package adminclient;
import java.io.*;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.JFrame;
import java.util.*;
import service.*;

public class AdminMainFrame extends javax.swing.JFrame {
    private TssServiceStub.Teacher[] teachers;
    private TssServiceStub.Student[] students;
    private TssServiceStub.Exercise[] exercises;
    private UserServiceStub.User[] users;
    public AdminMainFrame() {
        initComponents();
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }
    private void writeWithInputStreamToFile(InputStream is,OutputStream os)throws Exception{
	int n=0;
	byte[] buffer = new byte[8192];
        while((n=is.read(buffer))>0){
		os.write(buffer,0,n);
	}
 
}
    private FileOutputStream openSaveDialog(){
        JFileChooser jFileChooser = new JFileChooser();
        jFileChooser.setCurrentDirectory(new File("e:/"));//设置默认打开路径
        //jFileChooser.setDialogType(JFileChooser.SAVE_DIALOG);//设置保存对话框
        //将设置好了的两种文件过滤器添加到文件选择器中来
        jFileChooser.setFileFilter(new javax.swing.filechooser.FileFilter() {

                @Override
                public boolean accept(File f) {
                   return f.isDirectory() || (f.isFile() && (  f.getName().endsWith(".pdf"))); // 新建一个文件类型过滤器     
                }

                @Override
                public String getDescription() {
                    return "保存为pdf文件格式"; 
                }
        });   
            
        String fname = null;
        String writePath = null;
        FileOutputStream fos = null;
            
        jFileChooser.setSelectedFile(new File(exercises[lstEInfo.getSelectedIndex()].getEtitle()+".pdf"));//设置默认目录 打开直接默认E盘
        int index = jFileChooser.showDialog(null, "保存文件");
        if (index == JFileChooser.APPROVE_OPTION) {
            File file = jFileChooser.getSelectedFile(); // 得到选择的文件
            fname = jFileChooser.getName(file);  //判断是否命名为.pdf格式，如果不是则格式化为pdf   
            if(fname != null && fname.trim().length()>0) {      
		if(fname.endsWith(".pdf"))
                    ;      
		else    
                   fname = fname.concat(".pdf");         
            }
            else{
                    JOptionPane.showMessageDialog(this,"注意文件名称","错误！",JOptionPane.ERROR_MESSAGE);
            }     
		
            writePath = jFileChooser.getCurrentDirectory().getAbsolutePath() + fname;
            file = new File(writePath);     
            //判断文件是否已存在并覆盖
            if(file.exists()) {      
                int i = javax.swing.JOptionPane.showConfirmDialog(this, "该文件已经存在，确定要覆盖吗？");      
		if(i == javax.swing.JOptionPane.YES_OPTION){
                    try{
                            fos = new FileOutputStream(file);
                        }catch(IOException e){
                            return null;
                        }
                    return fos;
                }    
                else       
                    return null;     
            }
            else{
                try{
                        fos = new FileOutputStream(file);
                    }catch(IOException e){
                        return null;
                    }
                return fos;
            }
        }
        else{
             return null;
        }
}
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroupT = new javax.swing.ButtonGroup();
        buttonGroupS = new javax.swing.ButtonGroup();
        buttonGroupE = new javax.swing.ButtonGroup();
        buttonGroupAddInfoT = new javax.swing.ButtonGroup();
        buttonGroupAddInfoS = new javax.swing.ButtonGroup();
        MainPane = new javax.swing.JTabbedPane();
        TeacherPane = new javax.swing.JPanel();
        TPane1 = new javax.swing.JPanel();
        txtTeacherSelect = new javax.swing.JTextField();
        btnTeacherSelect = new javax.swing.JButton();
        jScrollPane5 = new javax.swing.JScrollPane();
        lstTInfo = new javax.swing.JList();
        jLabel38 = new javax.swing.JLabel();
        btnTDeleteAll = new javax.swing.JButton();
        Tpane2 = new javax.swing.JPanel();
        jLabel39 = new javax.swing.JLabel();
        jLabel40 = new javax.swing.JLabel();
        jLabel41 = new javax.swing.JLabel();
        jLabel42 = new javax.swing.JLabel();
        jLabel43 = new javax.swing.JLabel();
        txtTid = new javax.swing.JTextField();
        txtTname = new javax.swing.JTextField();
        txtToffice = new javax.swing.JTextField();
        btnTInfoUpdate = new javax.swing.JButton();
        btnTInfoDelete = new javax.swing.JButton();
        txtTphone = new javax.swing.JTextField();
        txtTqq = new javax.swing.JTextField();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        rbTischeckerY = new javax.swing.JRadioButton();
        rbTischeckerN = new javax.swing.JRadioButton();
        StudentPane = new javax.swing.JPanel();
        SPane1 = new javax.swing.JPanel();
        txtStudentSelect = new javax.swing.JTextField();
        btnStudentSelect = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        lstSInfo = new javax.swing.JList();
        jLabel13 = new javax.swing.JLabel();
        btnSDeleteAll = new javax.swing.JButton();
        SPane2 = new javax.swing.JPanel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        txtSid = new javax.swing.JTextField();
        txtSclass = new javax.swing.JTextField();
        txtSname = new javax.swing.JTextField();
        txtSqq = new javax.swing.JTextField();
        txtSphone = new javax.swing.JTextField();
        btnSInfoUpdate = new javax.swing.JButton();
        btnSInfoDelete = new javax.swing.JButton();
        jLabel21 = new javax.swing.JLabel();
        rbSisleaderY = new javax.swing.JRadioButton();
        rbSisleaderN = new javax.swing.JRadioButton();
        ExercisePane = new javax.swing.JPanel();
        EPane1 = new javax.swing.JPanel();
        txtExerciseSelect = new javax.swing.JTextField();
        btnExerciseSelect = new javax.swing.JButton();
        jScrollPane3 = new javax.swing.JScrollPane();
        lstEInfo = new javax.swing.JList();
        jLabel22 = new javax.swing.JLabel();
        btnEDeleteAll = new javax.swing.JButton();
        EPane2 = new javax.swing.JPanel();
        jLabel31 = new javax.swing.JLabel();
        jLabel32 = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();
        jLabel34 = new javax.swing.JLabel();
        jLabel35 = new javax.swing.JLabel();
        btnEInfoUpdate = new javax.swing.JButton();
        btnEInfoDelete = new javax.swing.JButton();
        jLabel36 = new javax.swing.JLabel();
        jLabel37 = new javax.swing.JLabel();
        btnEfiledownload = new javax.swing.JButton();
        txtEtitle = new javax.swing.JTextField();
        txtEteacher = new javax.swing.JTextField();
        txtElevel = new javax.swing.JTextField();
        txtEsum = new javax.swing.JTextField();
        txtEleftcount = new javax.swing.JTextField();
        rbEispassY = new javax.swing.JRadioButton();
        rbEispassN = new javax.swing.JRadioButton();
        UserPane = new javax.swing.JPanel();
        UPane1 = new javax.swing.JPanel();
        txtUserSelect = new javax.swing.JTextField();
        btnUserSelect = new javax.swing.JButton();
        jScrollPane6 = new javax.swing.JScrollPane();
        lstUInfo = new javax.swing.JList();
        jLabel61 = new javax.swing.JLabel();
        btnUDeleteAll = new javax.swing.JButton();
        UPane2 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        txtUpassword = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        txtUid = new javax.swing.JTextField();
        btnUInfoDelete = new javax.swing.JButton();
        btnUInfoUpdate = new javax.swing.JButton();
        AddInfoPane = new javax.swing.JPanel();
        AddInfoTpane = new javax.swing.JPanel();
        jLabel44 = new javax.swing.JLabel();
        jLabel45 = new javax.swing.JLabel();
        jLabel46 = new javax.swing.JLabel();
        jLabel47 = new javax.swing.JLabel();
        jLabel48 = new javax.swing.JLabel();
        txtAddInfoTid = new javax.swing.JTextField();
        txtAddInfoTname = new javax.swing.JTextField();
        txtAddInfoToffice = new javax.swing.JTextField();
        btnAddInfoTsave = new javax.swing.JButton();
        txtAddInfoTphone = new javax.swing.JTextField();
        txtAddInfoTqq = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        rbAddInfoTischeckerY = new javax.swing.JRadioButton();
        rbAddInfoTischeckerN = new javax.swing.JRadioButton();
        AddInfoSPane = new javax.swing.JPanel();
        jLabel23 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        jLabel26 = new javax.swing.JLabel();
        jLabel27 = new javax.swing.JLabel();
        jLabel28 = new javax.swing.JLabel();
        txtAddInfoSid = new javax.swing.JTextField();
        txtAddInfoSclass = new javax.swing.JTextField();
        txtAddInfoSname = new javax.swing.JTextField();
        txtAddInfoSqq = new javax.swing.JTextField();
        txtAddInfoSphone = new javax.swing.JTextField();
        jLabel29 = new javax.swing.JLabel();
        rbAddInfoSisleaderY = new javax.swing.JRadioButton();
        rbAddInfoSisleaderN = new javax.swing.JRadioButton();
        btnAddInfoSsave = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        MainPane.setBackground(new java.awt.Color(255, 204, 204));

        btnTeacherSelect.setText("查询");
        btnTeacherSelect.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnTeacherSelectActionPerformed(evt);
            }
        });

        lstTInfo.addListSelectionListener(new javax.swing.event.ListSelectionListener() {
            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {
                lstTInfoValueChanged(evt);
            }
        });
        jScrollPane5.setViewportView(lstTInfo);

        jLabel38.setText("输入出题人姓名：");

        btnTDeleteAll.setText("删除所有");
        btnTDeleteAll.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnTDeleteAllActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout TPane1Layout = new javax.swing.GroupLayout(TPane1);
        TPane1.setLayout(TPane1Layout);
        TPane1Layout.setHorizontalGroup(
            TPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(TPane1Layout.createSequentialGroup()
                .addGroup(TPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(TPane1Layout.createSequentialGroup()
                        .addGroup(TPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(TPane1Layout.createSequentialGroup()
                                .addGap(1, 1, 1)
                                .addComponent(jLabel38))
                            .addComponent(btnTDeleteAll))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addContainerGap())
            .addGroup(TPane1Layout.createSequentialGroup()
                .addComponent(txtTeacherSelect, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 82, Short.MAX_VALUE)
                .addComponent(btnTeacherSelect)
                .addGap(18, 18, 18))
        );
        TPane1Layout.setVerticalGroup(
            TPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(TPane1Layout.createSequentialGroup()
                .addGap(9, 9, 9)
                .addComponent(jLabel38)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(TPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtTeacherSelect, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnTeacherSelect))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane5, javax.swing.GroupLayout.DEFAULT_SIZE, 345, Short.MAX_VALUE)
                .addGap(14, 14, 14)
                .addComponent(btnTDeleteAll)
                .addGap(40, 40, 40))
        );

        jLabel39.setText("工  号：");

        jLabel40.setText("姓  名：");

        jLabel41.setText("办公室：");

        jLabel42.setText("电  话：");

        jLabel43.setText("QQ    ：");

        btnTInfoUpdate.setText("更改");
        btnTInfoUpdate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnTInfoUpdateActionPerformed(evt);
            }
        });

        btnTInfoDelete.setText("删除");
        btnTInfoDelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnTInfoDeleteActionPerformed(evt);
            }
        });

        jLabel1.setText("详细信息");

        jLabel2.setText("审题人否：");

        buttonGroupT.add(rbTischeckerY);
        rbTischeckerY.setText("是");

        buttonGroupT.add(rbTischeckerN);
        rbTischeckerN.setText("否");

        javax.swing.GroupLayout Tpane2Layout = new javax.swing.GroupLayout(Tpane2);
        Tpane2.setLayout(Tpane2Layout);
        Tpane2Layout.setHorizontalGroup(
            Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, Tpane2Layout.createSequentialGroup()
                .addGap(23, 23, 23)
                .addComponent(btnTInfoUpdate)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(btnTInfoDelete)
                .addGap(25, 25, 25))
            .addGroup(Tpane2Layout.createSequentialGroup()
                .addGap(111, 111, 111)
                .addComponent(jLabel1)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, Tpane2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, Tpane2Layout.createSequentialGroup()
                        .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel40)
                            .addComponent(jLabel41)
                            .addComponent(jLabel42)
                            .addComponent(jLabel43))
                        .addGap(18, 18, 18)
                        .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtTname)
                            .addComponent(txtToffice)
                            .addComponent(txtTphone)
                            .addComponent(txtTqq)))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, Tpane2Layout.createSequentialGroup()
                        .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, Tpane2Layout.createSequentialGroup()
                                .addComponent(jLabel2)
                                .addGap(18, 18, 18)
                                .addComponent(rbTischeckerY)
                                .addGap(48, 48, 48)
                                .addComponent(rbTischeckerN))
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, Tpane2Layout.createSequentialGroup()
                                .addComponent(jLabel39)
                                .addGap(18, 18, 18)
                                .addComponent(txtTid, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        Tpane2Layout.setVerticalGroup(
            Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(Tpane2Layout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addComponent(jLabel1)
                .addGap(18, 18, 18)
                .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel39)
                    .addComponent(txtTid, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(30, 30, 30)
                .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel40)
                    .addComponent(txtTname, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(24, 24, 24)
                .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel41)
                    .addComponent(txtToffice, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(32, 32, 32)
                .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel42)
                    .addComponent(txtTphone, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(29, 29, 29)
                .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel43)
                    .addComponent(txtTqq, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(rbTischeckerY)
                    .addComponent(rbTischeckerN))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(Tpane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnTInfoUpdate)
                    .addComponent(btnTInfoDelete))
                .addGap(29, 29, 29))
        );

        javax.swing.GroupLayout TeacherPaneLayout = new javax.swing.GroupLayout(TeacherPane);
        TeacherPane.setLayout(TeacherPaneLayout);
        TeacherPaneLayout.setHorizontalGroup(
            TeacherPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(TeacherPaneLayout.createSequentialGroup()
                .addComponent(TPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(Tpane2, javax.swing.GroupLayout.PREFERRED_SIZE, 278, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(352, Short.MAX_VALUE))
        );
        TeacherPaneLayout.setVerticalGroup(
            TeacherPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(TPane1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, TeacherPaneLayout.createSequentialGroup()
                .addComponent(Tpane2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        MainPane.addTab("管理老师信息", TeacherPane);

        btnStudentSelect.setText("查询");
        btnStudentSelect.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnStudentSelectActionPerformed(evt);
            }
        });

        lstSInfo.addListSelectionListener(new javax.swing.event.ListSelectionListener() {
            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {
                lstSInfoValueChanged(evt);
            }
        });
        jScrollPane2.setViewportView(lstSInfo);

        jLabel13.setText("输入学生姓名：");

        btnSDeleteAll.setText("删除所有");
        btnSDeleteAll.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSDeleteAllActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout SPane1Layout = new javax.swing.GroupLayout(SPane1);
        SPane1.setLayout(SPane1Layout);
        SPane1Layout.setHorizontalGroup(
            SPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(SPane1Layout.createSequentialGroup()
                .addGroup(SPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnSDeleteAll)
                    .addGroup(SPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addGroup(SPane1Layout.createSequentialGroup()
                            .addGap(1, 1, 1)
                            .addComponent(jLabel13)
                            .addGap(173, 173, 173))
                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, SPane1Layout.createSequentialGroup()
                            .addComponent(txtStudentSelect, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(btnStudentSelect))
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        SPane1Layout.setVerticalGroup(
            SPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(SPane1Layout.createSequentialGroup()
                .addGap(9, 9, 9)
                .addComponent(jLabel13)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(SPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtStudentSelect, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnStudentSelect))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPane2)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnSDeleteAll)
                .addGap(27, 27, 27))
        );

        jLabel15.setText("学  号：");

        jLabel16.setText("姓  名：");

        jLabel17.setText("班  级：");

        jLabel18.setText("电  话：");

        jLabel19.setText("QQ    ：");

        jLabel20.setText("组长否：");

        btnSInfoUpdate.setText("更改");
        btnSInfoUpdate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSInfoUpdateActionPerformed(evt);
            }
        });

        btnSInfoDelete.setText("删除");
        btnSInfoDelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSInfoDeleteActionPerformed(evt);
            }
        });

        jLabel21.setText("详细信息");

        buttonGroupS.add(rbSisleaderY);
        rbSisleaderY.setText("是");

        buttonGroupS.add(rbSisleaderN);
        rbSisleaderN.setText("否");

        javax.swing.GroupLayout SPane2Layout = new javax.swing.GroupLayout(SPane2);
        SPane2.setLayout(SPane2Layout);
        SPane2Layout.setHorizontalGroup(
            SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(SPane2Layout.createSequentialGroup()
                .addGap(45, 45, 45)
                .addComponent(btnSInfoUpdate)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 72, Short.MAX_VALUE)
                .addComponent(btnSInfoDelete)
                .addGap(73, 73, 73))
            .addGroup(SPane2Layout.createSequentialGroup()
                .addGroup(SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(SPane2Layout.createSequentialGroup()
                        .addGap(94, 94, 94)
                        .addComponent(jLabel21))
                    .addGroup(SPane2Layout.createSequentialGroup()
                        .addGroup(SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel16)
                            .addComponent(jLabel15)
                            .addComponent(jLabel17)
                            .addComponent(jLabel18)
                            .addComponent(jLabel19))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(txtSqq, javax.swing.GroupLayout.DEFAULT_SIZE, 224, Short.MAX_VALUE)
                            .addComponent(txtSphone)
                            .addComponent(txtSclass)
                            .addComponent(txtSid)
                            .addComponent(txtSname))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(SPane2Layout.createSequentialGroup()
                .addComponent(jLabel20)
                .addGap(38, 38, 38)
                .addComponent(rbSisleaderY)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(rbSisleaderN)
                .addGap(64, 64, 64))
        );
        SPane2Layout.setVerticalGroup(
            SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(SPane2Layout.createSequentialGroup()
                .addGap(26, 26, 26)
                .addComponent(jLabel21)
                .addGap(42, 42, 42)
                .addGroup(SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel15)
                    .addComponent(txtSid, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(23, 23, 23)
                .addGroup(SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel16)
                    .addComponent(txtSname, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(21, 21, 21)
                .addGroup(SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel17)
                    .addComponent(txtSclass, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(17, 17, 17)
                .addGroup(SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel18)
                    .addComponent(txtSphone, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel19)
                    .addComponent(txtSqq, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20)
                    .addComponent(rbSisleaderY)
                    .addComponent(rbSisleaderN))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 109, Short.MAX_VALUE)
                .addGroup(SPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnSInfoUpdate)
                    .addComponent(btnSInfoDelete))
                .addGap(31, 31, 31))
        );

        javax.swing.GroupLayout StudentPaneLayout = new javax.swing.GroupLayout(StudentPane);
        StudentPane.setLayout(StudentPaneLayout);
        StudentPaneLayout.setHorizontalGroup(
            StudentPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(StudentPaneLayout.createSequentialGroup()
                .addComponent(SPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(SPane2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(311, Short.MAX_VALUE))
        );
        StudentPaneLayout.setVerticalGroup(
            StudentPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(StudentPaneLayout.createSequentialGroup()
                .addGroup(StudentPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(SPane1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(SPane2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );

        MainPane.addTab("管理学生信息", StudentPane);

        btnExerciseSelect.setText("查询");
        btnExerciseSelect.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnExerciseSelectActionPerformed(evt);
            }
        });

        lstEInfo.addListSelectionListener(new javax.swing.event.ListSelectionListener() {
            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {
                lstEInfoValueChanged(evt);
            }
        });
        jScrollPane3.setViewportView(lstEInfo);

        jLabel22.setText("输入出题人姓名：");

        btnEDeleteAll.setText("删除所有");
        btnEDeleteAll.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEDeleteAllActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout EPane1Layout = new javax.swing.GroupLayout(EPane1);
        EPane1.setLayout(EPane1Layout);
        EPane1Layout.setHorizontalGroup(
            EPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(EPane1Layout.createSequentialGroup()
                .addGroup(EPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(EPane1Layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(jLabel22))
                    .addComponent(btnEDeleteAll))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(EPane1Layout.createSequentialGroup()
                .addComponent(txtExerciseSelect, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(btnExerciseSelect)
                .addGap(18, 18, 18))
            .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 277, Short.MAX_VALUE)
        );
        EPane1Layout.setVerticalGroup(
            EPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(EPane1Layout.createSequentialGroup()
                .addGap(9, 9, 9)
                .addComponent(jLabel22)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(EPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtExerciseSelect, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnExerciseSelect))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 345, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnEDeleteAll)
                .addGap(40, 40, 40))
        );

        jLabel31.setText("课题名称：");
        jLabel31.setMaximumSize(new java.awt.Dimension(60, 16));
        jLabel31.setMinimumSize(new java.awt.Dimension(60, 16));

        jLabel32.setText("指导老师：");

        jLabel33.setText("课题等级：");

        jLabel34.setText("要求人数：");

        jLabel35.setText("是否通过：");

        btnEInfoUpdate.setText("更改");
        btnEInfoUpdate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEInfoUpdateActionPerformed(evt);
            }
        });

        btnEInfoDelete.setText("删除");
        btnEInfoDelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEInfoDeleteActionPerformed(evt);
            }
        });

        jLabel36.setText("详细信息");

        jLabel37.setText("课题余量：");

        btnEfiledownload.setText("下载文件");
        btnEfiledownload.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEfiledownloadActionPerformed(evt);
            }
        });

        buttonGroupE.add(rbEispassY);
        rbEispassY.setText("是");

        buttonGroupE.add(rbEispassN);
        rbEispassN.setText("否");

        javax.swing.GroupLayout EPane2Layout = new javax.swing.GroupLayout(EPane2);
        EPane2.setLayout(EPane2Layout);
        EPane2Layout.setHorizontalGroup(
            EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(EPane2Layout.createSequentialGroup()
                .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(EPane2Layout.createSequentialGroup()
                        .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(btnEInfoUpdate)
                            .addComponent(jLabel35))
                        .addGap(32, 32, 32)
                        .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(EPane2Layout.createSequentialGroup()
                                .addComponent(btnEInfoDelete)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 85, Short.MAX_VALUE)
                                .addComponent(btnEfiledownload))
                            .addGroup(EPane2Layout.createSequentialGroup()
                                .addComponent(rbEispassY)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(rbEispassN)
                                .addGap(22, 22, 22))))
                    .addGroup(EPane2Layout.createSequentialGroup()
                        .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel31, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel32)
                            .addComponent(jLabel33))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtElevel)
                            .addComponent(txtEteacher)
                            .addComponent(txtEtitle)))
                    .addGroup(EPane2Layout.createSequentialGroup()
                        .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel37)
                            .addComponent(jLabel34))
                        .addGap(10, 10, 10)
                        .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtEsum)
                            .addComponent(txtEleftcount))))
                .addContainerGap())
            .addGroup(EPane2Layout.createSequentialGroup()
                .addGap(119, 119, 119)
                .addComponent(jLabel36)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        EPane2Layout.setVerticalGroup(
            EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(EPane2Layout.createSequentialGroup()
                .addComponent(jLabel36)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel31, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtEtitle, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtEteacher, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel32))
                .addGap(23, 23, 23)
                .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel33)
                    .addComponent(txtElevel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(32, 32, 32)
                .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel34, javax.swing.GroupLayout.PREFERRED_SIZE, 16, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtEsum, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(29, 29, 29)
                .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel37)
                    .addComponent(txtEleftcount, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(31, 31, 31)
                .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel35)
                    .addComponent(rbEispassY)
                    .addComponent(rbEispassN))
                .addGap(33, 33, 33)
                .addGroup(EPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnEInfoUpdate)
                    .addComponent(btnEInfoDelete)
                    .addComponent(btnEfiledownload))
                .addGap(71, 71, 71))
        );

        javax.swing.GroupLayout ExercisePaneLayout = new javax.swing.GroupLayout(ExercisePane);
        ExercisePane.setLayout(ExercisePaneLayout);
        ExercisePaneLayout.setHorizontalGroup(
            ExercisePaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(ExercisePaneLayout.createSequentialGroup()
                .addComponent(EPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(EPane2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 293, Short.MAX_VALUE))
        );
        ExercisePaneLayout.setVerticalGroup(
            ExercisePaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(EPane1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(EPane2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        MainPane.addTab("管理课题信息", ExercisePane);

        btnUserSelect.setText("查询");
        btnUserSelect.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUserSelectActionPerformed(evt);
            }
        });

        lstUInfo.addListSelectionListener(new javax.swing.event.ListSelectionListener() {
            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {
                lstUInfoValueChanged(evt);
            }
        });
        jScrollPane6.setViewportView(lstUInfo);

        jLabel61.setText("输入用户学工号：");

        btnUDeleteAll.setText("删除所有");
        btnUDeleteAll.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUDeleteAllActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout UPane1Layout = new javax.swing.GroupLayout(UPane1);
        UPane1.setLayout(UPane1Layout);
        UPane1Layout.setHorizontalGroup(
            UPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(UPane1Layout.createSequentialGroup()
                .addGroup(UPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(UPane1Layout.createSequentialGroup()
                        .addGroup(UPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(UPane1Layout.createSequentialGroup()
                                .addGap(1, 1, 1)
                                .addComponent(jLabel61))
                            .addComponent(btnUDeleteAll))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(jScrollPane6, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addContainerGap())
            .addGroup(UPane1Layout.createSequentialGroup()
                .addComponent(txtUserSelect, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 82, Short.MAX_VALUE)
                .addComponent(btnUserSelect)
                .addGap(18, 18, 18))
        );
        UPane1Layout.setVerticalGroup(
            UPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(UPane1Layout.createSequentialGroup()
                .addGap(9, 9, 9)
                .addComponent(jLabel61)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(UPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtUserSelect, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnUserSelect))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane6, javax.swing.GroupLayout.DEFAULT_SIZE, 345, Short.MAX_VALUE)
                .addGap(14, 14, 14)
                .addComponent(btnUDeleteAll)
                .addGap(40, 40, 40))
        );

        jLabel7.setText("用户密码：");

        jLabel8.setText("学 工 号：");

        txtUid.setEnabled(false);

        btnUInfoDelete.setText("删除");
        btnUInfoDelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUInfoDeleteActionPerformed(evt);
            }
        });

        btnUInfoUpdate.setText("更改密码");
        btnUInfoUpdate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUInfoUpdateActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout UPane2Layout = new javax.swing.GroupLayout(UPane2);
        UPane2.setLayout(UPane2Layout);
        UPane2Layout.setHorizontalGroup(
            UPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(UPane2Layout.createSequentialGroup()
                .addGroup(UPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(UPane2Layout.createSequentialGroup()
                        .addComponent(jLabel7)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtUpassword))
                    .addGroup(UPane2Layout.createSequentialGroup()
                        .addComponent(jLabel8)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtUid, javax.swing.GroupLayout.DEFAULT_SIZE, 243, Short.MAX_VALUE))
                    .addGroup(UPane2Layout.createSequentialGroup()
                        .addComponent(btnUInfoUpdate)
                        .addGap(50, 50, 50)
                        .addComponent(btnUInfoDelete)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        UPane2Layout.setVerticalGroup(
            UPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(UPane2Layout.createSequentialGroup()
                .addGap(96, 96, 96)
                .addGroup(UPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8)
                    .addComponent(txtUid, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(39, 39, 39)
                .addGroup(UPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7)
                    .addComponent(txtUpassword, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(UPane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnUInfoDelete)
                    .addComponent(btnUInfoUpdate))
                .addGap(31, 31, 31))
        );

        javax.swing.GroupLayout UserPaneLayout = new javax.swing.GroupLayout(UserPane);
        UserPane.setLayout(UserPaneLayout);
        UserPaneLayout.setHorizontalGroup(
            UserPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(UserPaneLayout.createSequentialGroup()
                .addComponent(UPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(UPane2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 301, Short.MAX_VALUE))
        );
        UserPaneLayout.setVerticalGroup(
            UserPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(UPane1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, UserPaneLayout.createSequentialGroup()
                .addComponent(UPane2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        MainPane.addTab("管理用户信息", UserPane);

        jLabel44.setText("工  号：");

        jLabel45.setText("姓  名：");

        jLabel46.setText("办公室：");

        jLabel47.setText("电  话：");

        jLabel48.setText("QQ    ：");

        btnAddInfoTsave.setText("保存");
        btnAddInfoTsave.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAddInfoTsaveActionPerformed(evt);
            }
        });

        jLabel3.setText("添加老师");

        jLabel4.setText("审题人否：");

        buttonGroupAddInfoT.add(rbAddInfoTischeckerY);
        rbAddInfoTischeckerY.setText("是");

        buttonGroupAddInfoT.add(rbAddInfoTischeckerN);
        rbAddInfoTischeckerN.setText("否");

        javax.swing.GroupLayout AddInfoTpaneLayout = new javax.swing.GroupLayout(AddInfoTpane);
        AddInfoTpane.setLayout(AddInfoTpaneLayout);
        AddInfoTpaneLayout.setHorizontalGroup(
            AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, AddInfoTpaneLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, AddInfoTpaneLayout.createSequentialGroup()
                        .addGroup(AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel45)
                            .addComponent(jLabel46)
                            .addComponent(jLabel47)
                            .addComponent(jLabel48))
                        .addGap(18, 18, 18)
                        .addGroup(AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtAddInfoTname)
                            .addComponent(txtAddInfoToffice)
                            .addComponent(txtAddInfoTphone)
                            .addComponent(txtAddInfoTqq)))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, AddInfoTpaneLayout.createSequentialGroup()
                        .addComponent(jLabel4)
                        .addGap(18, 18, 18)
                        .addComponent(rbAddInfoTischeckerY)
                        .addGap(80, 80, 80)
                        .addComponent(rbAddInfoTischeckerN)
                        .addGap(0, 157, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, AddInfoTpaneLayout.createSequentialGroup()
                        .addComponent(jLabel44)
                        .addGap(18, 18, 18)
                        .addComponent(txtAddInfoTid)))
                .addContainerGap())
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, AddInfoTpaneLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(btnAddInfoTsave)
                .addGap(45, 45, 45))
            .addGroup(AddInfoTpaneLayout.createSequentialGroup()
                .addGap(147, 147, 147)
                .addComponent(jLabel3)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        AddInfoTpaneLayout.setVerticalGroup(
            AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(AddInfoTpaneLayout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addComponent(jLabel3)
                .addGap(18, 18, 18)
                .addGroup(AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel44)
                    .addComponent(txtAddInfoTid, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(30, 30, 30)
                .addGroup(AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel45)
                    .addComponent(txtAddInfoTname, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(24, 24, 24)
                .addGroup(AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel46)
                    .addComponent(txtAddInfoToffice, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(32, 32, 32)
                .addGroup(AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel47)
                    .addComponent(txtAddInfoTphone, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(29, 29, 29)
                .addGroup(AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel48)
                    .addComponent(txtAddInfoTqq, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(AddInfoTpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(rbAddInfoTischeckerY)
                    .addComponent(rbAddInfoTischeckerN))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 122, Short.MAX_VALUE)
                .addComponent(btnAddInfoTsave)
                .addGap(27, 27, 27))
        );

        jLabel23.setText("学  号：");

        jLabel24.setText("姓  名：");

        jLabel25.setText("班  级：");

        jLabel26.setText("电  话：");

        jLabel27.setText("QQ    ：");

        jLabel28.setText("组长否：");

        jLabel29.setText("添加学生");

        buttonGroupAddInfoS.add(rbAddInfoSisleaderY);
        rbAddInfoSisleaderY.setText("是");

        buttonGroupAddInfoS.add(rbAddInfoSisleaderN);
        rbAddInfoSisleaderN.setText("否");

        btnAddInfoSsave.setText("保存");
        btnAddInfoSsave.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAddInfoSsaveActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout AddInfoSPaneLayout = new javax.swing.GroupLayout(AddInfoSPane);
        AddInfoSPane.setLayout(AddInfoSPaneLayout);
        AddInfoSPaneLayout.setHorizontalGroup(
            AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(AddInfoSPaneLayout.createSequentialGroup()
                .addContainerGap(335, Short.MAX_VALUE)
                .addComponent(btnAddInfoSsave)
                .addGap(41, 41, 41))
            .addGroup(AddInfoSPaneLayout.createSequentialGroup()
                .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(AddInfoSPaneLayout.createSequentialGroup()
                        .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel24)
                            .addComponent(jLabel23)
                            .addComponent(jLabel25)
                            .addComponent(jLabel26)
                            .addComponent(jLabel27))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(txtAddInfoSid, javax.swing.GroupLayout.DEFAULT_SIZE, 340, Short.MAX_VALUE)
                                .addComponent(txtAddInfoSname)
                                .addComponent(txtAddInfoSclass, javax.swing.GroupLayout.Alignment.TRAILING)
                                .addComponent(txtAddInfoSphone))
                            .addComponent(txtAddInfoSqq, javax.swing.GroupLayout.PREFERRED_SIZE, 340, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(AddInfoSPaneLayout.createSequentialGroup()
                        .addGap(186, 186, 186)
                        .addComponent(jLabel29))
                    .addGroup(AddInfoSPaneLayout.createSequentialGroup()
                        .addComponent(jLabel28)
                        .addGap(33, 33, 33)
                        .addComponent(rbAddInfoSisleaderY)
                        .addGap(117, 117, 117)
                        .addComponent(rbAddInfoSisleaderN)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        AddInfoSPaneLayout.setVerticalGroup(
            AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(AddInfoSPaneLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel29)
                .addGap(18, 18, 18)
                .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel23)
                    .addComponent(txtAddInfoSid, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(32, 32, 32)
                .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel24)
                    .addComponent(txtAddInfoSname, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(23, 23, 23)
                .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel25)
                    .addComponent(txtAddInfoSclass, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(29, 29, 29)
                .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel26)
                    .addComponent(txtAddInfoSphone, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(33, 33, 33)
                .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel27)
                    .addComponent(txtAddInfoSqq, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(AddInfoSPaneLayout.createSequentialGroup()
                        .addGap(23, 23, 23)
                        .addGroup(AddInfoSPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel28)
                            .addComponent(rbAddInfoSisleaderY)
                            .addComponent(rbAddInfoSisleaderN))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(AddInfoSPaneLayout.createSequentialGroup()
                        .addGap(0, 171, Short.MAX_VALUE)
                        .addComponent(btnAddInfoSsave)
                        .addGap(22, 22, 22))))
        );

        javax.swing.GroupLayout AddInfoPaneLayout = new javax.swing.GroupLayout(AddInfoPane);
        AddInfoPane.setLayout(AddInfoPaneLayout);
        AddInfoPaneLayout.setHorizontalGroup(
            AddInfoPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(AddInfoPaneLayout.createSequentialGroup()
                .addComponent(AddInfoTpane, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 49, Short.MAX_VALUE)
                .addComponent(AddInfoSPane, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        AddInfoPaneLayout.setVerticalGroup(
            AddInfoPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(AddInfoTpane, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(AddInfoSPane, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        MainPane.addTab("添加学生或老师", AddInfoPane);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(MainPane, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(MainPane, javax.swing.GroupLayout.PREFERRED_SIZE, 510, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 43, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents
    
    private void btnAddInfoTsaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAddInfoTsaveActionPerformed
           TssServiceStub.Teacher teacher = new TssServiceStub.Teacher();
           teacher.setTid(txtAddInfoTid.getText());
           teacher.setTname(txtAddInfoTname.getText());
           teacher.setToffice(txtAddInfoToffice.getText());
           teacher.setTphone(txtAddInfoTphone.getText());
           teacher.setTqq(txtAddInfoTqq.getText());
           teacher.setTischecker(rbAddInfoTischeckerY.isSelected());
           //System.out.println(teacher.getTname());
           try{
               TssServiceStub tssServiceStub = new TssServiceStub();
               TssServiceStub.AddTeacher addteacher = new  TssServiceStub.AddTeacher ();
               addteacher.setTeacher(teacher);
               if(tssServiceStub.addTeacher(addteacher).get_return()){
                    JOptionPane.showMessageDialog(this,"添加成功！");
               }
               else
               {
                   JOptionPane.showMessageDialog(this,"添加失败！该老师可能已经存在！","错误！",JOptionPane.ERROR_MESSAGE);
               }
           }catch(Exception e){
               JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
           }
    }//GEN-LAST:event_btnAddInfoTsaveActionPerformed

    private void btnAddInfoSsaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAddInfoSsaveActionPerformed
           TssServiceStub.Student student = new TssServiceStub.Student();
           student.setSid(txtAddInfoSid.getText());
           student.setSname(txtAddInfoSname.getText());
           student.setSclass(txtAddInfoSclass.getText());
           student.setSphone(txtAddInfoSphone.getText());
           student.setSqq(txtAddInfoSqq.getText());
           student.setSisleader(rbAddInfoSisleaderY.isSelected());
           //System.out.println(teacher.getTname());
           try{
               TssServiceStub tssServiceStub = new TssServiceStub();
               TssServiceStub.AddStudent addStudent = new  TssServiceStub.AddStudent ();
               addStudent.setStudent(student);
               if(tssServiceStub.addStudent(addStudent).get_return()){
                    JOptionPane.showMessageDialog(this,"添加成功！");
               }
               else
               {
                   JOptionPane.showMessageDialog(this,"添加失败！该学生可能已经存在！","错误！",JOptionPane.ERROR_MESSAGE);
               }
           }catch(Exception e){
               JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
           }
    }//GEN-LAST:event_btnAddInfoSsaveActionPerformed

    private void btnTeacherSelectActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnTeacherSelectActionPerformed
        try{
              //查询时先清空所有详细信息
            txtTid.setText("");
            txtTname.setText("");
            txtToffice.setText("");
            txtTphone.setText("");
            txtTqq.setText("");
            buttonGroupT.clearSelection();
             //查询
            TssServiceStub tssServiceStub = new TssServiceStub();
            TssServiceStub.GetTeacherByName gtbn =new TssServiceStub.GetTeacherByName();
            gtbn.setTname(txtTeacherSelect.getText());
            teachers=tssServiceStub.getTeacherByName(gtbn).get_return();
            javax.swing.DefaultListModel listModel = null;
            if(!(lstTInfo.getModel() instanceof javax.swing.DefaultListModel)){
                listModel = new javax.swing.DefaultListModel();
                lstTInfo.setModel(listModel);
            }
            else{
                listModel = (javax.swing.DefaultListModel)lstTInfo.getModel(); 
            }
            listModel.removeAllElements();//先清空列表
            if(teachers!=null){
                for(int i=0;i<teachers.length;i++){
                   listModel.addElement(teachers[i].getTname());
                }  
            }
        }catch(Exception e){
             JOptionPane.showMessageDialog(this,"查询失败！","错误！",JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_btnTeacherSelectActionPerformed

    private void btnStudentSelectActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnStudentSelectActionPerformed
         try{
             //查询时先清空所有详细信息
            txtSid.setText("");
            txtSname.setText("");
            txtSclass.setText("");
            txtSphone.setText("");
            txtSqq.setText("");
            buttonGroupS.clearSelection();
            //查询
            TssServiceStub tssServiceStub = new TssServiceStub();
            TssServiceStub.GetStudentByName gsbn =new TssServiceStub.GetStudentByName();
            gsbn.setSname(txtStudentSelect.getText());
            students=tssServiceStub.getStudentByName(gsbn).get_return();
            javax.swing.DefaultListModel listModel = null;
            if(!(lstSInfo.getModel() instanceof javax.swing.DefaultListModel)){
                listModel = new javax.swing.DefaultListModel();
                lstSInfo.setModel(listModel);
            }
            else{
                listModel = (javax.swing.DefaultListModel)lstSInfo.getModel(); 
            }
            listModel.removeAllElements();//先清空列表
            if(students!=null){
                for(TssServiceStub.Student student:students){
                   listModel.addElement(student.getSname());
                }
            }
        }catch(Exception e){
            JOptionPane.showMessageDialog(this,"查询失败！","错误！",JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_btnStudentSelectActionPerformed

    private void lstTInfoValueChanged(javax.swing.event.ListSelectionEvent evt) {//GEN-FIRST:event_lstTInfoValueChanged
        int index = lstTInfo.getSelectedIndex();
        if(index < 0){
            return;
        }
        try{
            txtTid.setText(teachers[index].getTid());
            txtTname.setText(teachers[index].getTname());
            txtToffice.setText(teachers[index].getToffice());
            txtTphone.setText(teachers[index].getTphone());
            txtTqq.setText(teachers[index].getTqq());
            if(teachers[index].getTischecker()){
                rbTischeckerY.doClick();
            }
            else{
                rbTischeckerN.doClick();
            }
        }catch(Exception e){
            
        }
    }//GEN-LAST:event_lstTInfoValueChanged

    private void lstSInfoValueChanged(javax.swing.event.ListSelectionEvent evt) {//GEN-FIRST:event_lstSInfoValueChanged
        int index = lstSInfo.getSelectedIndex();
        if(index < 0){
            return;
        }
        try{
            txtSid.setText(students[index].getSid());
            txtSname.setText(students[index].getSname());
            txtSclass.setText(students[index].getSclass());
            txtSphone.setText(students[index].getSphone());
            txtSqq.setText(students[index].getSqq());
            if(students[index].getSisleader()){
                rbSisleaderY.doClick();
            }
            else{
                rbSisleaderN.doClick();
            }
        }catch(Exception e){
            
        }
    }//GEN-LAST:event_lstSInfoValueChanged

    private void btnTInfoUpdateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnTInfoUpdateActionPerformed
        int index = lstTInfo.getSelectedIndex();
        
         if(index<0||index>=teachers.length){
             JOptionPane.showMessageDialog(this,"更改前请先选择列表中的一项");
         }
         else{
                String oldtid = teachers[index].getTid();//通过查询得来的初始老师信息，这里先保存，后面要用到
                teachers[index].setTid(txtTid.getText());
                teachers[index].setTname(txtTname.getText());
                teachers[index].setToffice(txtToffice.getText());
                teachers[index].setTphone(txtTphone.getText());
                teachers[index].setTqq(txtTqq.getText());
                teachers[index].setTischecker(rbTischeckerY.isSelected());
                //System.out.println(teacher.getTname());
                try{
                    TssServiceStub tssServiceStub = new TssServiceStub();
                    TssServiceStub.UpdateTeacherInfo updateTeacherInfo = new  TssServiceStub.UpdateTeacherInfo();
                    updateTeacherInfo.setTeacher(teachers[index]);
                    updateTeacherInfo.setOldtid(oldtid);
                    if(tssServiceStub.updateTeacherInfo(updateTeacherInfo).get_return()){
                         JOptionPane.showMessageDialog(this,"更改成功！");
                    }
                    else
                    {
                        JOptionPane.showMessageDialog(this,"更改失败！","错误！",JOptionPane.ERROR_MESSAGE);
                    }
                }catch(Exception e){
                    JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
                }
    }//GEN-LAST:event_btnTInfoUpdateActionPerformed
    }
    
    private void btnTInfoDeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnTInfoDeleteActionPerformed
        int index = lstTInfo.getSelectedIndex();
         if(index<0){
             JOptionPane.showMessageDialog(this,"删除前请先选择列表中的一项");
        }
         else {
             if(JOptionPane.showConfirmDialog(this,"是否删除当前老师，删除后将无法恢复,而且由于级联操作可能导致课题等其他信息丢失，请慎重！！！","删除",JOptionPane.YES_NO_OPTION)==JOptionPane.NO_OPTION){
                    return;     
                }
             try{
                TssServiceStub.DeleteTeacher deleteTeacher = new TssServiceStub.DeleteTeacher();
                deleteTeacher.setTid(teachers[index].getTid());
                TssServiceStub tssServiceStub = new TssServiceStub();
                if(tssServiceStub.deleteTeacher(deleteTeacher).get_return()){
                    System.out.println("SSSSS");
                    javax.swing.DefaultListModel listModel =(javax.swing.DefaultListModel)lstTInfo.getModel();
                    listModel.removeElementAt(index);//更新列表
                       //清空所有详细信息
                    txtTid.setText("");
                    txtTname.setText("");
                    txtToffice.setText("");
                    txtTphone.setText("");
                    txtTqq.setText("");
                    buttonGroupT.clearSelection();
                   //同步teachers数组，删除其中被删除的元素
                    List<TssServiceStub.Teacher> list = new ArrayList<TssServiceStub.Teacher>();  
                    for (int i=0; i<teachers.length; i++) {  
                        list.add(teachers[i]);  
                    }  
                    list.remove(index);    
                    list.toArray(teachers); 
                    JOptionPane.showMessageDialog(this,"成功删除！");
                }
                else{
                    JOptionPane.showMessageDialog(this,"未能删除！","错误！",JOptionPane.ERROR_MESSAGE);
                }
            }catch(Exception e){
                JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
            }
           }
         
    }//GEN-LAST:event_btnTInfoDeleteActionPerformed

    private void btnTDeleteAllActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnTDeleteAllActionPerformed
        if(JOptionPane.showConfirmDialog(this,"是否删除当前所有老师，删除后将无法恢复,而且由于级联操作可能导致课题等其他信息丢失，请慎重！！！","删除",JOptionPane.YES_NO_OPTION)==JOptionPane.NO_OPTION){
                    return;     
        }
        else{
             try{
                TssServiceStub tssServiceStub = new TssServiceStub();
                TssServiceStub.DeleteAllTeachers deleteAllTeachers = new TssServiceStub.DeleteAllTeachers();
                if(tssServiceStub.deleteAllTeachers(deleteAllTeachers).get_return()){
                    javax.swing.DefaultListModel listModel =(javax.swing.DefaultListModel)lstTInfo.getModel();
                    listModel.removeAllElements();//更新列表
                    JOptionPane.showMessageDialog(this,"成功删除！");
                }
                else{
                    JOptionPane.showMessageDialog(this,"未能删除！","错误！",JOptionPane.ERROR_MESSAGE);
                }
            }catch(Exception e){
                     JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
                }
            }
       
    }//GEN-LAST:event_btnTDeleteAllActionPerformed

    private void btnSInfoUpdateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSInfoUpdateActionPerformed
         int index = lstSInfo.getSelectedIndex();
         
         if(index<0||index>=students.length){
             JOptionPane.showMessageDialog(this,"更改前请先选择列表中的一项");
         }
         else{
             String oldsid = students[index].getSid();//通过查询得来的初始老师信息，这里先保存，后面要用到
                students[index].setSid(txtSid.getText());
                students[index].setSname(txtSname.getText());
                students[index].setSclass(txtSclass.getText());
                students[index].setSphone(txtSphone.getText());
                students[index].setSqq(txtSqq.getText());
                students[index].setSisleader(rbSisleaderY.isSelected());
                //System.out.println(teacher.getTname());
                try{
                    TssServiceStub tssServiceStub = new TssServiceStub();
                    TssServiceStub.UpdateStudentInfo updateStudentInfo = new  TssServiceStub.UpdateStudentInfo();
                    updateStudentInfo.setStudent(students[index]);
                    updateStudentInfo.setOldsid(oldsid);
                    if(tssServiceStub.updateStudentInfo(updateStudentInfo).get_return()){
                         JOptionPane.showMessageDialog(this,"更改成功！");
                    }
                    else
                    {
                        JOptionPane.showMessageDialog(this,"更改失败！","错误！",JOptionPane.ERROR_MESSAGE);
                    }
                }catch(Exception e){
                    JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
                }
            }      
    }//GEN-LAST:event_btnSInfoUpdateActionPerformed

    private void btnSInfoDeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSInfoDeleteActionPerformed
        int index = lstSInfo.getSelectedIndex();
         if(index<0){
             JOptionPane.showMessageDialog(this,"删除前请先选择列表中的一项");
        }
         else {
             if(JOptionPane.showConfirmDialog(this,"是否删除当前学生，删除后将无法恢复,而且由于级联操作可能导致小组等其他信息丢失，请慎重！！！","删除",JOptionPane.YES_NO_OPTION)==JOptionPane.NO_OPTION){
                    return;     
                }
             try{
                TssServiceStub.DeleteStudent deleteStudent = new TssServiceStub.DeleteStudent();
                deleteStudent.setSid(students[index].getSid());
                TssServiceStub tssServiceStub = new TssServiceStub();
                if(tssServiceStub.deleteStudent(deleteStudent).get_return()){
                    System.out.println("SSSSS");
                    javax.swing.DefaultListModel listModel =(javax.swing.DefaultListModel)lstSInfo.getModel();
                    listModel.removeElementAt(index);//更新列表
                       //清空所有详细信息
                    txtSid.setText("");
                    txtSname.setText("");
                    txtSclass.setText("");
                    txtSphone.setText("");
                    txtSqq.setText("");
                    buttonGroupS.clearSelection();
                   //同步students数组，删除其中被删除的元素
                    List<TssServiceStub.Student> list = new ArrayList<TssServiceStub.Student>();  
                    for (int i=0; i<students.length; i++) {  
                        list.add(students[i]);  
                    }  
                    list.remove(index);    
                    list.toArray(students); 
                    JOptionPane.showMessageDialog(this,"成功删除！");
                }
                else{
                    JOptionPane.showMessageDialog(this,"未能删除！","错误！",JOptionPane.ERROR_MESSAGE);
                }
            }catch(Exception e){
                JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
            }
           }
    }//GEN-LAST:event_btnSInfoDeleteActionPerformed

    private void btnSDeleteAllActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSDeleteAllActionPerformed
        if(JOptionPane.showConfirmDialog(this,"是否删除当前所有学生，删除后将无法恢复,而且由于级联操作可能导致小组等其他信息丢失，请慎重！！！","删除",JOptionPane.YES_NO_OPTION)==JOptionPane.NO_OPTION){
                    return;     
        }
        else{
             try{
                TssServiceStub tssServiceStub = new TssServiceStub();
                TssServiceStub.DeleteAllStudents deleteAllStudents = new TssServiceStub.DeleteAllStudents();
                if(tssServiceStub.deleteAllStudents(deleteAllStudents).get_return()){
                    javax.swing.DefaultListModel listModel =(javax.swing.DefaultListModel)lstSInfo.getModel();
                    listModel.removeAllElements();//更新列表
                    JOptionPane.showMessageDialog(this,"成功删除！");
                }
                else{
                    JOptionPane.showMessageDialog(this,"未能删除！","错误！",JOptionPane.ERROR_MESSAGE);
                }
            }catch(Exception e){
                     JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
                }
            }
       
    }//GEN-LAST:event_btnSDeleteAllActionPerformed

    private void btnExerciseSelectActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnExerciseSelectActionPerformed
        try{
              //查询时先清空所有详细信息
            txtEtitle.setText("");
            txtEteacher.setText("");
            txtElevel.setText("");
            txtEsum.setText("");
            txtEleftcount.setText("");
            buttonGroupE.clearSelection();
             //查询
            TssServiceStub tssServiceStub = new TssServiceStub();
            TssServiceStub.GetExerciseByTname gebt =new TssServiceStub.GetExerciseByTname();
            gebt.setEteacher(txtExerciseSelect.getText());
            exercises=tssServiceStub.getExerciseByTname(gebt).get_return();
            javax.swing.DefaultListModel listModel = null;
            if(!(lstEInfo.getModel() instanceof javax.swing.DefaultListModel)){
                listModel = new javax.swing.DefaultListModel();
                lstEInfo.setModel(listModel);
            }
            else{
                listModel = (javax.swing.DefaultListModel)lstEInfo.getModel(); 
            }
            listModel.removeAllElements();//先清空列表
            if(exercises!=null){
                for(int i=0;i<exercises.length;i++){
                   listModel.addElement(exercises[i].getEtitle());
                }  
            }
        }catch(Exception e){
             JOptionPane.showMessageDialog(this,"查询失败！","错误！",JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_btnExerciseSelectActionPerformed

    private void lstEInfoValueChanged(javax.swing.event.ListSelectionEvent evt) {//GEN-FIRST:event_lstEInfoValueChanged
        int index = lstEInfo.getSelectedIndex();
        if(index < 0){
            return;
        }
        try{
            txtEtitle.setText(exercises[index].getEtitle());
            txtEteacher.setText(exercises[index].getEteacher());
            txtElevel.setText(exercises[index].getElevel());
            txtEsum.setText(exercises[index].getEsum()+"");
            txtEleftcount.setText(exercises[index].getEleftcount()+"");
            if(exercises[index].getEispass()){
                rbEispassY.doClick();
            }
            else{
                rbEispassN.doClick();
            }
        }catch(Exception e){
            
        }
    }//GEN-LAST:event_lstEInfoValueChanged

    private void btnEInfoUpdateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEInfoUpdateActionPerformed
        int index = lstEInfo.getSelectedIndex();
        
         if(index<0||index>=exercises.length){
             JOptionPane.showMessageDialog(this,"更改前请先选择列表中的一项");
         }
         else{
                int oldtid = exercises[index].getEid();//通过查询得来的初始老师信息，这里先保存，后面要用到
                exercises[index].setEtitle(txtEtitle.getText());
                exercises[index].setEteacher(txtEteacher.getText());
                exercises[index].setElevel(txtElevel.getText());
                exercises[index].setEsum(Integer.parseInt(txtEsum.getText()));
                exercises[index].setEleftcount(Integer.parseInt(txtEleftcount.getText()));
                exercises[index].setEispass(rbEispassY.isSelected());
                //System.out.println(teacher.getTname());
                try{
                    TssServiceStub tssServiceStub = new TssServiceStub();
                    TssServiceStub.UpdateExerciseInfo updateExerciseInfo = new  TssServiceStub.UpdateExerciseInfo();
                    updateExerciseInfo.setExercise(exercises[index]);
                    if(tssServiceStub.updateExerciseInfo(updateExerciseInfo).get_return()){
                         JOptionPane.showMessageDialog(this,"更改成功！");
                    }
                    else
                    {
                        JOptionPane.showMessageDialog(this,"更改失败！","错误！",JOptionPane.ERROR_MESSAGE);
                    }
                }catch(Exception e){
                    JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
                }
        }                                              
    }//GEN-LAST:event_btnEInfoUpdateActionPerformed

    private void btnEInfoDeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEInfoDeleteActionPerformed
        final int index = lstEInfo.getSelectedIndex();
        if(index<0){
             JOptionPane.showMessageDialog(this,"删除前请先选择列表中的一项");
        }
        else{
                if(JOptionPane.showConfirmDialog(this,"是否删除当前课题，删除后将无法恢复,而且由于级联操作可能导致小组等其他信息丢失，请慎重！！！","删除",JOptionPane.YES_NO_OPTION)==JOptionPane.NO_OPTION){
                    return;     
                }
                new Thread(new Runnable() {
                @Override
                public void run() {
                    try{
                        TssServiceStub.DeleteExercise deleteExercise = new TssServiceStub.DeleteExercise();
                        deleteExercise.setEid(exercises[index].getEid());
                        TssServiceStub tssServiceStub = new TssServiceStub();
                        if(tssServiceStub.deleteExercise(deleteExercise).get_return()){
                            javax.swing.DefaultListModel listModel =(javax.swing.DefaultListModel)lstEInfo.getModel();
                            listModel.removeElementAt(index);//更新列表
                               //清空所有详细信息
                            txtEtitle.setText("");
                            txtEteacher.setText("");
                            txtElevel.setText("");
                            txtEsum.setText("");
                            txtEleftcount.setText("");
                            buttonGroupE.clearSelection();
                           //同步teachers数组，删除其中被删除的元素
                            List<TssServiceStub.Exercise> list = new ArrayList<TssServiceStub.Exercise>();  
                            for (int i=0; i<exercises.length; i++) {  
                                list.add(exercises[i]);  
                            }  
                            list.remove(index);    
                            list.toArray(exercises); 
                            JOptionPane.showMessageDialog(AdminMainFrame.this,"成功删除！");
                            }
                        else{
                            JOptionPane.showMessageDialog(AdminMainFrame.this,"未能删除！","错误！",JOptionPane.ERROR_MESSAGE);
                        }
                    }catch(Exception e){
                        JOptionPane.showMessageDialog(AdminMainFrame.this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
                    }
                }
            });
             
        }
    }//GEN-LAST:event_btnEInfoDeleteActionPerformed

    private void btnEDeleteAllActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEDeleteAllActionPerformed
        if(JOptionPane.showConfirmDialog(this,"是否删除当前所有课题，删除后将无法恢复,而且由于级联操作可能导致小组等其他信息丢失，请慎重！！！","删除",JOptionPane.YES_NO_OPTION)==JOptionPane.NO_OPTION){
                    return;     
        }
        else{
                new Thread(new Runnable() {
                @Override
                public void run() {
                    try{
                        TssServiceStub tssServiceStub = new TssServiceStub();
                        TssServiceStub.DeleteAllExercises deleteAllExercises = new TssServiceStub.DeleteAllExercises();
                        if(tssServiceStub.deleteAllExercises(deleteAllExercises).get_return()){
                            javax.swing.DefaultListModel listModel =(javax.swing.DefaultListModel)lstEInfo.getModel();
                            listModel.removeAllElements();//更新列表
                        }
                        else{
                            JOptionPane.showMessageDialog(AdminMainFrame.this,"未能删除！","错误！",JOptionPane.ERROR_MESSAGE);
                        }
                    }catch(Exception e){
                     JOptionPane.showMessageDialog(AdminMainFrame.this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
                    }
                }
            });
        }
    }//GEN-LAST:event_btnEDeleteAllActionPerformed

    private void btnEfiledownloadActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEfiledownloadActionPerformed
        int index = lstEInfo.getSelectedIndex();
        if(index<0){
            JOptionPane.showMessageDialog(this,"删除前请先选择列表中的一项");
        }
        else{
             FileOutputStream fos = openSaveDialog();
           
                    try {
                       
                    TssServiceStub tssServiceStub = new TssServiceStub();
                    TssServiceStub.DownloadFileToDataHandler downloadFile = new TssServiceStub.DownloadFileToDataHandler();
                    downloadFile.setServerEfilepath(exercises[lstEInfo.getSelectedIndex()].getEfilepath());
                    System.out.println(exercises[lstEInfo.getSelectedIndex()].getEfilepath());
                    writeWithInputStreamToFile(tssServiceStub.downloadFileToDataHandler(downloadFile).get_return().getInputStream(),fos);
                    System.out.println(tssServiceStub.downloadFileToDataHandler(downloadFile).get_return().getInputStream());
                    fos.close();
                   } catch (Exception e) {
                    JOptionPane.showMessageDialog(AdminMainFrame.this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
                   }
                   //程序执行完毕后，出现一个对话框来提示
                   int option = JOptionPane.showConfirmDialog(null, "小苹果:结果已产生", "结果",
                     JOptionPane.YES_NO_OPTION);
            
        }     
    }//GEN-LAST:event_btnEfiledownloadActionPerformed

    private void btnUserSelectActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUserSelectActionPerformed
        try{
             //查询时先清空所有详细信息
            txtUid.setText("");
            txtUpassword.setText("");
         
            //查询
            UserServiceStub userServiceStub = new UserServiceStub();
            UserServiceStub.GetUserInfoById gubi =new UserServiceStub.GetUserInfoById();
            gubi.setId(txtUserSelect.getText());
            users=userServiceStub.getUserInfoById(gubi).get_return();
            javax.swing.DefaultListModel listModel = null;
            if(!(lstUInfo.getModel() instanceof javax.swing.DefaultListModel)){
                listModel = new javax.swing.DefaultListModel();
                lstUInfo.setModel(listModel);
            }
            else{
                listModel = (javax.swing.DefaultListModel)lstUInfo.getModel(); 
            }
            listModel.removeAllElements();//先清空列表
            if(users!=null){
                for(UserServiceStub.User user:users){
                   listModel.addElement(user.getUid());
                }
            }
        }catch(Exception e){
            JOptionPane.showMessageDialog(this,"查询失败！","错误！",JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_btnUserSelectActionPerformed

    private void lstUInfoValueChanged(javax.swing.event.ListSelectionEvent evt) {//GEN-FIRST:event_lstUInfoValueChanged
        int index = lstUInfo.getSelectedIndex();
        if(index < 0){
            return;
        }
        try{
            txtUid.setText(users[index].getUid());
            txtUpassword.setText(users[index].getPassword());
        }catch(Exception e){   
        }
    }//GEN-LAST:event_lstUInfoValueChanged

    private void btnUInfoUpdateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUInfoUpdateActionPerformed
        int index = lstUInfo.getSelectedIndex();
        
         if(index<0||index>=users.length){
             JOptionPane.showMessageDialog(this,"更改前请先选择列表中的一项");
         }
         else{
                String olduid =users[index].getUid();//通过查询得来的初始老师信息，这里先保存，后面要用到
                users[index].setPassword(txtUpassword.getText());
                //System.out.println(teacher.getTname());
                try{
                    UserServiceStub userServiceStub = new UserServiceStub();
                    UserServiceStub.UpdateUserInfo updateUserInfo = new  UserServiceStub.UpdateUserInfo();
                    updateUserInfo.setUser(users[index]);
                    if(userServiceStub.updateUserInfo(updateUserInfo).get_return()){
                         JOptionPane.showMessageDialog(this,"更改成功！");
                    }
                    else
                    {
                        JOptionPane.showMessageDialog(this,"更改失败！","错误！",JOptionPane.ERROR_MESSAGE);
                    }
                }catch(Exception e){
                    JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
                }
        }                                         
    }//GEN-LAST:event_btnUInfoUpdateActionPerformed

    private void btnUInfoDeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUInfoDeleteActionPerformed
         int index = lstUInfo.getSelectedIndex();
         if(index<0){
             JOptionPane.showMessageDialog(this,"删除前请先选择列表中的一项");
        }
         else {
             if(JOptionPane.showConfirmDialog(this,"是否删除当前用户，删除后将无法恢复,而且由于级联操作可能导致小组等其他信息丢失，请慎重！！！","删除",JOptionPane.YES_NO_OPTION)==JOptionPane.NO_OPTION){
                    return;     
                }
             try{
                UserServiceStub.DeleteUser deleteUser = new UserServiceStub.DeleteUser();
                deleteUser.setUid(users[index].getUid());
                UserServiceStub userServiceStub = new UserServiceStub();
                if(userServiceStub.deleteUser(deleteUser).get_return()){   
                    javax.swing.DefaultListModel listModel =(javax.swing.DefaultListModel)lstUInfo.getModel();
                    listModel.removeElementAt(index);//更新列表
                       //清空所有详细信息
                    txtUid.setText("");
                    txtUpassword.setText("");
                    
                   //同步users数组，删除其中被删除的元素
                    List<UserServiceStub.User> list = new ArrayList<UserServiceStub.User>();  
                    for (int i=0; i<users.length; i++) {  
                        list.add(users[i]);  
                    }  
                    list.remove(index);    
                    list.toArray(users); 
                    JOptionPane.showMessageDialog(this,"成功删除！");
                }
                else{
                    JOptionPane.showMessageDialog(this,"未能删除！","错误！",JOptionPane.ERROR_MESSAGE);
                }
            }catch(Exception e){
                JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
            }
           }
    }//GEN-LAST:event_btnUInfoDeleteActionPerformed

    private void btnUDeleteAllActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUDeleteAllActionPerformed
        if(JOptionPane.showConfirmDialog(this,"是否删除当前所有用户，删除后将无法恢复,而且由于级联操作可能导致小组等其他信息丢失，请慎重！！！","删除",JOptionPane.YES_NO_OPTION)==JOptionPane.NO_OPTION){
                    return;     
        }
        else{
             try{
                UserServiceStub userServiceStub = new UserServiceStub();
                UserServiceStub.DeleteAllUsers deleteAllUsers = new UserServiceStub.DeleteAllUsers();
                if(userServiceStub.deleteAllUsers(deleteAllUsers).get_return()){
                    javax.swing.DefaultListModel listModel =(javax.swing.DefaultListModel)lstUInfo.getModel();
                    listModel.removeAllElements();//更新列表
                    JOptionPane.showMessageDialog(this,"成功删除！");
                }
                else{
                    JOptionPane.showMessageDialog(this,"未能删除！","错误！",JOptionPane.ERROR_MESSAGE);
                }
            }catch(Exception e){
                     JOptionPane.showMessageDialog(this,e.getMessage(),"错误！",JOptionPane.ERROR_MESSAGE);
                }
            }
    }//GEN-LAST:event_btnUDeleteAllActionPerformed
    
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(AdminMainFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(AdminMainFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(AdminMainFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(AdminMainFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                new AdminMainFrame().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel AddInfoPane;
    private javax.swing.JPanel AddInfoSPane;
    private javax.swing.JPanel AddInfoTpane;
    private javax.swing.JPanel EPane1;
    private javax.swing.JPanel EPane2;
    private javax.swing.JPanel ExercisePane;
    private javax.swing.JTabbedPane MainPane;
    private javax.swing.JPanel SPane1;
    private javax.swing.JPanel SPane2;
    private javax.swing.JPanel StudentPane;
    private javax.swing.JPanel TPane1;
    private javax.swing.JPanel TeacherPane;
    private javax.swing.JPanel Tpane2;
    private javax.swing.JPanel UPane1;
    private javax.swing.JPanel UPane2;
    private javax.swing.JPanel UserPane;
    private javax.swing.JButton btnAddInfoSsave;
    private javax.swing.JButton btnAddInfoTsave;
    private javax.swing.JButton btnEDeleteAll;
    private javax.swing.JButton btnEInfoDelete;
    private javax.swing.JButton btnEInfoUpdate;
    private javax.swing.JButton btnEfiledownload;
    private javax.swing.JButton btnExerciseSelect;
    private javax.swing.JButton btnSDeleteAll;
    private javax.swing.JButton btnSInfoDelete;
    private javax.swing.JButton btnSInfoUpdate;
    private javax.swing.JButton btnStudentSelect;
    private javax.swing.JButton btnTDeleteAll;
    private javax.swing.JButton btnTInfoDelete;
    private javax.swing.JButton btnTInfoUpdate;
    private javax.swing.JButton btnTeacherSelect;
    private javax.swing.JButton btnUDeleteAll;
    private javax.swing.JButton btnUInfoDelete;
    private javax.swing.JButton btnUInfoUpdate;
    private javax.swing.JButton btnUserSelect;
    private javax.swing.ButtonGroup buttonGroupAddInfoS;
    private javax.swing.ButtonGroup buttonGroupAddInfoT;
    private javax.swing.ButtonGroup buttonGroupE;
    private javax.swing.ButtonGroup buttonGroupS;
    private javax.swing.ButtonGroup buttonGroupT;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel40;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel44;
    private javax.swing.JLabel jLabel45;
    private javax.swing.JLabel jLabel46;
    private javax.swing.JLabel jLabel47;
    private javax.swing.JLabel jLabel48;
    private javax.swing.JLabel jLabel61;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JList lstEInfo;
    private javax.swing.JList lstSInfo;
    private javax.swing.JList lstTInfo;
    private javax.swing.JList lstUInfo;
    private javax.swing.JRadioButton rbAddInfoSisleaderN;
    private javax.swing.JRadioButton rbAddInfoSisleaderY;
    private javax.swing.JRadioButton rbAddInfoTischeckerN;
    private javax.swing.JRadioButton rbAddInfoTischeckerY;
    private javax.swing.JRadioButton rbEispassN;
    private javax.swing.JRadioButton rbEispassY;
    private javax.swing.JRadioButton rbSisleaderN;
    private javax.swing.JRadioButton rbSisleaderY;
    private javax.swing.JRadioButton rbTischeckerN;
    private javax.swing.JRadioButton rbTischeckerY;
    private javax.swing.JTextField txtAddInfoSclass;
    private javax.swing.JTextField txtAddInfoSid;
    private javax.swing.JTextField txtAddInfoSname;
    private javax.swing.JTextField txtAddInfoSphone;
    private javax.swing.JTextField txtAddInfoSqq;
    private javax.swing.JTextField txtAddInfoTid;
    private javax.swing.JTextField txtAddInfoTname;
    private javax.swing.JTextField txtAddInfoToffice;
    private javax.swing.JTextField txtAddInfoTphone;
    private javax.swing.JTextField txtAddInfoTqq;
    private javax.swing.JTextField txtEleftcount;
    private javax.swing.JTextField txtElevel;
    private javax.swing.JTextField txtEsum;
    private javax.swing.JTextField txtEteacher;
    private javax.swing.JTextField txtEtitle;
    private javax.swing.JTextField txtExerciseSelect;
    private javax.swing.JTextField txtSclass;
    private javax.swing.JTextField txtSid;
    private javax.swing.JTextField txtSname;
    private javax.swing.JTextField txtSphone;
    private javax.swing.JTextField txtSqq;
    private javax.swing.JTextField txtStudentSelect;
    private javax.swing.JTextField txtTeacherSelect;
    private javax.swing.JTextField txtTid;
    private javax.swing.JTextField txtTname;
    private javax.swing.JTextField txtToffice;
    private javax.swing.JTextField txtTphone;
    private javax.swing.JTextField txtTqq;
    private javax.swing.JTextField txtUid;
    private javax.swing.JTextField txtUpassword;
    private javax.swing.JTextField txtUserSelect;
    // End of variables declaration//GEN-END:variables
}
